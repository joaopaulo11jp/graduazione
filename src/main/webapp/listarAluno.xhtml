<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="templateModel.xhtml">
	<ui:define name="titulo">Lista de concluintes</ui:define>
	<ui:define name="body">
		<p:panel>
			<p:panel id="basic" header="Concluintes" footer=""
				style="margin-bottom:20px">
				<h:form>
					<p:dataTable var="concluinte"
						value="#{listaConcluinteBean.concluintes}"
						widgetVar="concluintesTable"
						emptyMessage="Não há registro de concluintes"
						filteredValue="#{dtFilterView.filteredCars}" rows="10">


						<p:column filterBy="#{concluinte.matricula}"
							headerText="Matrícula" filterMatchMode="contains">
							<h:outputText value="#{concluinte.matricula}" />
						</p:column>

						<p:column filterBy="#{concluinte.nome}" headerText="Nome"
							filterMatchMode="contains">
							<h:outputLink id="mandaAluno" value="mostraAluno.jsf">
								<f:param name="matricula" value="#{concluinte.matricula}"/>#{concluinte.nome}
							</h:outputLink>
						</p:column>
						
						<p:column filterBy="#{concluinte.tipo.descricao}" headerText="Tipo de defesa"
							filterMatchMode="contains">
							<h:outputText value="#{concluinte.tipo.descricao}" />
						</p:column>
						
						<p:column filterBy="#{concluinte.nota}" headerText="Nota da aprensentação"
							filterMatchMode="equals">
							<h:outputText value="#{concluinte.nota}" />
						</p:column>
						
						<p:column filterBy="#{concluinte.orientador.nome}" headerText="Orientador"
							filterMatchMode="contains">
							<h:outputText value="#{concluinte.orientador.nome}" />
						</p:column>
						
						<p:column filterBy="#{concluinte.dataApresentacao}" headerText="Data de apresentação"
							filterMatchMode="equals">
							<h:outputText value="#{concluinte.dataApresentacao}">
								<f:convertDateTime pattern="dd/MM/YYYY"/>
							</h:outputText>
						</p:column>
						
						
						<p:column filterBy="#{concluinte.processoEstagio.situacao.descricaoSituacao}" headerText="Status do Processo"
							filterMatchMode="contains">
							<h:outputText value="#{concluinte.processoEstagio.situacao.descricaoSituacao}" rendered="#{concluinte.processoEstagio != null}" />
							<h:outputText value="Não há processo aberto" rendered="#{concluinte.processoEstagio == null}"/>
						</p:column>
						
					</p:dataTable>
				</h:form>
			</p:panel>
		</p:panel>
	</ui:define>
</ui:composition>
</html>